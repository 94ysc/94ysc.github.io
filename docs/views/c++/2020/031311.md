---
title: OBS 源码编译(vs2019 cmake3.16.5)
date: 2020-03-13
tags:
 - obs
 - 直播
categories: 
 - c++
---

## OBS源码编译 ##

#### 小记 ####

公司开授网课时使用的OBS,操作比较繁杂,想要集成自己的业务,就抽空研究了下OBS,网上找了不少资料,由于使用的是vs2019导致几次编译失败,在此记录下vs2019成功的方式,主要失败原因就是OBS的依赖包使用的版本过低,大部分过程与网上的一致,记录下来方便自己以后查阅

#### obs源码 ###

```shell
git clone git@github.com:obsproject/obs-studio.git
git clone https://github.com/obsproject/obs-studio.git
```

#### CMake安装 ####

```
https://cmake.org/download/
```

#### dependencies2017(OBS依赖包) ####

```
https://cdn-fastly.obsproject.com/downloads/dependencies2017.zip

源码文件CI/install-script-win.cmd里有最新的下载地址
```

#### QT下载安装 ####

```
http://download.qt.io/archive/qt/
```

#### win-dshow插件下载 ####

```shell
cd /plugins/win-dshow
git clone https://github.com/jp9000/libdshowcapture.git
或者clone源码时带上 --recursive 会自动下载对应的子模块
```

#### cmake编译

打开cmakeGUI设置源码路径及生成Bulid文件目录

![设置源码目录](/cmake.jpg)

生成测试文件

![设置测试](/cmake1.jpg)

设置QT的路径

![设置QT路径](/cmake2.jpg)

设置下载的OBS路径,我编译的64位,均选择64位

![设置OBS依赖](/cmake3.jpg)

配置vs2019 64位

![配置](/cmake4.jpg)

![vs2019 x64](/cmake5.jpg)

完成以上步骤,点击Geenerate打包,打包完成后,点击open Project即可打开应用

